{"ast":null,"code":"import _slicedToArray from \"C:/Users/abhis/Downloads/my-react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\abhis\\\\Downloads\\\\my-react-blog\\\\src\\\\components\\\\Post\\\\CommentBox.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport cn from \"classnames\";\nimport useDynamicHeightField from \"./useDynamicHeightField\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar INITIAL_HEIGHT = 46;\n\n/*\r\n * Read the blog post here:\r\n * https://letsbuildui.dev/articles/how-to-build-an-expandable-comment-box\r\n */\nexport default function CommentBox() {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isExpanded = _useState2[0],\n    setIsExpanded = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    commentValue = _useState4[0],\n    setCommentValue = _useState4[1];\n  var outerHeight = useRef(INITIAL_HEIGHT);\n  var textRef = useRef(null);\n  var containerRef = useRef(null);\n  useDynamicHeightField(textRef, commentValue);\n  var onExpand = function onExpand() {\n    if (!isExpanded) {\n      outerHeight.current = containerRef.current.scrollHeight;\n      setIsExpanded(true);\n    }\n  };\n  var onChange = function onChange(e) {\n    setCommentValue(e.target.value);\n  };\n  var onClose = function onClose() {\n    setCommentValue(\"\");\n    setIsExpanded(false);\n  };\n  var onSubmit = function onSubmit(e) {\n    e.preventDefault();\n    console.log(\"send the form data somewhere\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      ref: containerRef,\n      className: cn(\"comment-box\", {\n        expanded: isExpanded,\n        collapsed: !isExpanded,\n        modified: commentValue.length > 0\n      }),\n      style: {\n        minHeight: isExpanded ? outerHeight.current : INITIAL_HEIGHT\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg\",\n            alt: \"User avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"User Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"comment\",\n        children: \"What are your thoughts?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textRef,\n        onClick: onExpand,\n        onFocus: onExpand,\n        onChange: onChange,\n        className: \"comment-field\",\n        placeholder: \"What are your thoughts?\",\n        value: commentValue,\n        name: \"comment\",\n        id: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"cancel\",\n          onClick: onClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: commentValue.length < 1,\n          onClick: onClose,\n          children: \"Respond\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentBox, \"6jAmEyj/i+IVfxoLS2UQ7qNH+18=\", false, function () {\n  return [useDynamicHeightField];\n});\n_c = CommentBox;\nvar _c;\n$RefreshReg$(_c, \"CommentBox\");","map":{"version":3,"names":["React","useState","useRef","cn","useDynamicHeightField","INITIAL_HEIGHT","CommentBox","isExpanded","setIsExpanded","commentValue","setCommentValue","outerHeight","textRef","containerRef","onExpand","current","scrollHeight","onChange","e","target","value","onClose","onSubmit","preventDefault","console","log","expanded","collapsed","modified","length","minHeight"],"sources":["C:/Users/abhis/Downloads/my-react-blog/src/components/Post/CommentBox.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport cn from \"classnames\";\r\nimport useDynamicHeightField from \"./useDynamicHeightField\";\r\nimport \"./styles.css\";\r\n\r\nconst INITIAL_HEIGHT = 46;\r\n\r\n/*\r\n * Read the blog post here:\r\n * https://letsbuildui.dev/articles/how-to-build-an-expandable-comment-box\r\n */\r\nexport default function CommentBox() {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [commentValue, setCommentValue] = useState(\"\");\r\n\r\n  const outerHeight = useRef(INITIAL_HEIGHT);\r\n  const textRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  useDynamicHeightField(textRef, commentValue);\r\n\r\n  const onExpand = () => {\r\n    if (!isExpanded) {\r\n      outerHeight.current = containerRef.current.scrollHeight;\r\n      setIsExpanded(true);\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setCommentValue(e.target.value);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setCommentValue(\"\");\r\n    setIsExpanded(false);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"send the form data somewhere\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form\r\n        onSubmit={onSubmit}\r\n        ref={containerRef}\r\n        className={cn(\"comment-box\", {\r\n          expanded: isExpanded,\r\n          collapsed: !isExpanded,\r\n          modified: commentValue.length > 0\r\n        })}\r\n        style={{\r\n          minHeight: isExpanded ? outerHeight.current : INITIAL_HEIGHT\r\n        }}\r\n      >\r\n        <div className=\"header\">\r\n          <div className=\"user\">\r\n            <img\r\n              src=\"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg\"\r\n              alt=\"User avatar\"\r\n            />\r\n            <span>User Name</span>\r\n          </div>\r\n        </div>\r\n        <label htmlFor=\"comment\">What are your thoughts?</label>\r\n        <textarea\r\n          ref={textRef}\r\n          onClick={onExpand}\r\n          onFocus={onExpand}\r\n          onChange={onChange}\r\n          className=\"comment-field\"\r\n          placeholder=\"What are your thoughts?\"\r\n          value={commentValue}\r\n          name=\"comment\"\r\n          id=\"comment\"\r\n        />\r\n        <div className=\"actions\">\r\n          <button type=\"button\" className=\"cancel\" onClick={onClose}>\r\n            Cancel\r\n          </button>\r\n          <button type=\"submit\" disabled={commentValue.length < 1} onClick={onClose}>\r\n            Respond\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}