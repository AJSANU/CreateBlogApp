{"ast":null,"code":"import _slicedToArray from \"C:/Users/abhis/Downloads/my-react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\abhis\\\\Downloads\\\\my-react-blog\\\\src\\\\components\\\\Post\\\\CommentBox.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport cn from \"classnames\";\nimport useDynamicHeightField from \"./useDynamicHeightField\";\nimport \"./styles.css\";\nimport CustomPopup from \"../popup/CustomPopup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar INITIAL_HEIGHT = 46;\n\n/*\r\n * Read the blog post here:\r\n * https://letsbuildui.dev/articles/how-to-build-an-expandable-comment-box\r\n */\nexport default function CommentBox() {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isExpanded = _useState2[0],\n    setIsExpanded = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    commentValue = _useState4[0],\n    setCommentValue = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    visibility = _useState6[0],\n    setVisibility = _useState6[1];\n  var popupCloseHandler = function popupCloseHandler() {\n    setVisibility(false);\n  };\n  var outerHeight = useRef(INITIAL_HEIGHT);\n  var textRef = useRef(null);\n  var containerRef = useRef(null);\n  useDynamicHeightField(textRef, commentValue);\n  var onExpand = function onExpand() {\n    if (!isExpanded) {\n      outerHeight.current = containerRef.current.scrollHeight;\n      setIsExpanded(true);\n    }\n  };\n  var onChange = function onChange(e) {\n    setCommentValue(e.target.value);\n  };\n  var onClose = function onClose() {\n    setCommentValue(\"\");\n    setIsExpanded(false);\n  };\n  var onSubmit = function onSubmit(e) {\n    e.preventDefault();\n    setVisibility(true);\n    setCommentValue(\"\");\n    setIsExpanded(false);\n    console.log(\"send the form data somewhere\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        alignContent: \"center\",\n        fontFamily: \"cursive\",\n        color: \"Green\"\n      },\n      children: \"Comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      ref: containerRef,\n      className: cn(\"comment-box\", {\n        expanded: isExpanded,\n        collapsed: !isExpanded,\n        modified: commentValue.length > 0\n      }),\n      style: {\n        minHeight: isExpanded ? outerHeight.current : INITIAL_HEIGHT\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg\",\n            alt: \"User avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"User Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"comment\",\n        children: \"What are your thoughts?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textRef,\n        onClick: onExpand,\n        onFocus: onExpand,\n        onChange: onChange,\n        className: \"comment-field\",\n        placeholder: \"What are your thoughts?\",\n        value: commentValue,\n        name: \"comment\",\n        id: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"cancel\",\n          onClick: onClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: commentValue.length < 1,\n          children: \"Respond\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), visibility && /*#__PURE__*/_jsxDEV(CustomPopup, {\n      onClose: popupCloseHandler,\n      show: visibility,\n      title: \"Thank you for your commet\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            alignContent: \"center\",\n            fontFamily: \"cursive\",\n            color: \"Green\"\n          },\n          children: \"Your comment has been submitted, thank you for sharing your views, its highly appreciated !!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentBox, \"r62CwGLnSMpWGpDZkFRx672M1UA=\", false, function () {\n  return [useDynamicHeightField];\n});\n_c = CommentBox;\nvar _c;\n$RefreshReg$(_c, \"CommentBox\");","map":{"version":3,"names":["React","useState","useRef","cn","useDynamicHeightField","CustomPopup","INITIAL_HEIGHT","CommentBox","isExpanded","setIsExpanded","commentValue","setCommentValue","visibility","setVisibility","popupCloseHandler","outerHeight","textRef","containerRef","onExpand","current","scrollHeight","onChange","e","target","value","onClose","onSubmit","preventDefault","console","log","alignContent","fontFamily","color","expanded","collapsed","modified","length","minHeight"],"sources":["C:/Users/abhis/Downloads/my-react-blog/src/components/Post/CommentBox.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport cn from \"classnames\";\r\nimport useDynamicHeightField from \"./useDynamicHeightField\";\r\nimport \"./styles.css\";\r\nimport CustomPopup from \"../popup/CustomPopup\";\r\n\r\nconst INITIAL_HEIGHT = 46;\r\n\r\n/*\r\n * Read the blog post here:\r\n * https://letsbuildui.dev/articles/how-to-build-an-expandable-comment-box\r\n */\r\nexport default function CommentBox() {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [commentValue, setCommentValue] = useState(\"\");\r\n  const [visibility, setVisibility] = useState(false);\r\n\r\n  const popupCloseHandler = () => {\r\n    setVisibility(false);\r\n  };\r\n\r\n  const outerHeight = useRef(INITIAL_HEIGHT);\r\n  const textRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  useDynamicHeightField(textRef, commentValue);\r\n\r\n  const onExpand = () => {\r\n    if (!isExpanded) {\r\n      outerHeight.current = containerRef.current.scrollHeight;\r\n      setIsExpanded(true);\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setCommentValue(e.target.value);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setCommentValue(\"\");\r\n    setIsExpanded(false);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    setVisibility(true);\r\n    setCommentValue(\"\");\r\n    setIsExpanded(false);\r\n    console.log(\"send the form data somewhere\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      \r\n       <h2 style={{alignContent:\"center\",  fontFamily:\"cursive\", color:\"Green\"}}>Comment</h2>\r\n      <form\r\n        onSubmit={onSubmit}\r\n        ref={containerRef}\r\n        className={cn(\"comment-box\", {\r\n          expanded: isExpanded,\r\n          collapsed: !isExpanded,\r\n          modified: commentValue.length > 0\r\n        })}\r\n        style={{\r\n          minHeight: isExpanded ? outerHeight.current : INITIAL_HEIGHT\r\n        }}\r\n      >\r\n\r\n        <div className=\"header\">\r\n          <div className=\"user\">\r\n            <img\r\n              src=\"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg\"\r\n              alt=\"User avatar\"\r\n            />\r\n            <span>User Name</span>\r\n          </div>\r\n        </div>\r\n        <label htmlFor=\"comment\">What are your thoughts?</label>\r\n        <textarea\r\n          ref={textRef}\r\n          onClick={onExpand}\r\n          onFocus={onExpand}\r\n          onChange={onChange}\r\n          className=\"comment-field\"\r\n          placeholder=\"What are your thoughts?\"\r\n          value={commentValue}\r\n          name=\"comment\"\r\n          id=\"comment\"\r\n        />\r\n        <div className=\"actions\">\r\n          <button type=\"button\" className=\"cancel\" onClick={onClose}>\r\n            Cancel\r\n          </button>\r\n          <button type=\"submit\" disabled={commentValue.length < 1}>\r\n            Respond\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {visibility &&   \r\n      <CustomPopup\r\n        onClose={popupCloseHandler}\r\n        show={visibility}\r\n        title=\"Thank you for your commet\"\r\n      >\r\n        <br></br><br></br>\r\n        <div>\r\n        <h3 style={{alignContent:\"center\",  fontFamily:\"cursive\", color:\"Green\"}}>\r\n          Your comment has been submitted, thank you for sharing your views, its highly appreciated !!!\r\n        </h3>\r\n        </div>\r\n      </CustomPopup>\r\n      }\r\n\r\n    </div>\r\n  );\r\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,EAAE,MAAM,YAAY;AAC3B,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,OAAO,cAAc;AACrB,OAAOC,WAAW,MAAM,sBAAsB;AAAC;AAE/C,IAAMC,cAAc,GAAG,EAAE;;AAEzB;AACA;AACA;AACA;AACA,eAAe,SAASC,UAAU,GAAG;EAAA;EACnC,gBAAoCN,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA5CO,UAAU;IAAEC,aAAa;EAChC,iBAAwCR,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7CS,YAAY;IAAEC,eAAe;EACpC,iBAAoCV,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA5CW,UAAU;IAAEC,aAAa;EAEhC,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,GAAS;IAC9BD,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,IAAME,WAAW,GAAGb,MAAM,CAACI,cAAc,CAAC;EAC1C,IAAMU,OAAO,GAAGd,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAMe,YAAY,GAAGf,MAAM,CAAC,IAAI,CAAC;EACjCE,qBAAqB,CAACY,OAAO,EAAEN,YAAY,CAAC;EAE5C,IAAMQ,QAAQ,GAAG,SAAXA,QAAQ,GAAS;IACrB,IAAI,CAACV,UAAU,EAAE;MACfO,WAAW,CAACI,OAAO,GAAGF,YAAY,CAACE,OAAO,CAACC,YAAY;MACvDX,aAAa,CAAC,IAAI,CAAC;IACrB;EACF,CAAC;EAED,IAAMY,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,CAAC,EAAK;IACtBX,eAAe,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;IACpBd,eAAe,CAAC,EAAE,CAAC;IACnBF,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,IAAMiB,QAAQ,GAAG,SAAXA,QAAQ,CAAIJ,CAAC,EAAK;IACtBA,CAAC,CAACK,cAAc,EAAE;IAClBd,aAAa,CAAC,IAAI,CAAC;IACnBF,eAAe,CAAC,EAAE,CAAC;IACnBF,aAAa,CAAC,KAAK,CAAC;IACpBmB,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;EAC7C,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,WAAW;IAAA,wBAEvB;MAAI,KAAK,EAAE;QAACC,YAAY,EAAC,QAAQ;QAAGC,UAAU,EAAC,SAAS;QAAEC,KAAK,EAAC;MAAO,CAAE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAa,eACvF;MACE,QAAQ,EAAEN,QAAS;MACnB,GAAG,EAAET,YAAa;MAClB,SAAS,EAAEd,EAAE,CAAC,aAAa,EAAE;QAC3B8B,QAAQ,EAAEzB,UAAU;QACpB0B,SAAS,EAAE,CAAC1B,UAAU;QACtB2B,QAAQ,EAAEzB,YAAY,CAAC0B,MAAM,GAAG;MAClC,CAAC,CAAE;MACH,KAAK,EAAE;QACLC,SAAS,EAAE7B,UAAU,GAAGO,WAAW,CAACI,OAAO,GAAGb;MAChD,CAAE;MAAA,wBAGF;QAAK,SAAS,EAAC,QAAQ;QAAA,uBACrB;UAAK,SAAS,EAAC,MAAM;UAAA,wBACnB;YACE,GAAG,EAAC,sHAAsH;YAC1H,GAAG,EAAC;UAAa;YAAA;YAAA;YAAA;UAAA,QACjB,eACF;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAsB;QAAA;UAAA;UAAA;UAAA;QAAA;MAClB;QAAA;QAAA;QAAA;MAAA,QACF,eACN;QAAO,OAAO,EAAC,SAAS;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgC,eACxD;QACE,GAAG,EAAEU,OAAQ;QACb,OAAO,EAAEE,QAAS;QAClB,OAAO,EAAEA,QAAS;QAClB,QAAQ,EAAEG,QAAS;QACnB,SAAS,EAAC,eAAe;QACzB,WAAW,EAAC,yBAAyB;QACrC,KAAK,EAAEX,YAAa;QACpB,IAAI,EAAC,SAAS;QACd,EAAE,EAAC;MAAS;QAAA;QAAA;QAAA;MAAA,QACZ,eACF;QAAK,SAAS,EAAC,SAAS;QAAA,wBACtB;UAAQ,IAAI,EAAC,QAAQ;UAAC,SAAS,EAAC,QAAQ;UAAC,OAAO,EAAEe,OAAQ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAEjD,eACT;UAAQ,IAAI,EAAC,QAAQ;UAAC,QAAQ,EAAEf,YAAY,CAAC0B,MAAM,GAAG,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAE/C;MAAA;QAAA;QAAA;QAAA;MAAA,QACL;IAAA;MAAA;MAAA;MAAA;IAAA,QACD,EACNxB,UAAU,iBACX,QAAC,WAAW;MACV,OAAO,EAAEE,iBAAkB;MAC3B,IAAI,EAAEF,UAAW;MACjB,KAAK,EAAC,2BAA2B;MAAA,wBAEjC;QAAA;QAAA;QAAA;MAAA,QAAS;QAAA;QAAA;QAAA;MAAA,QAAS,eAClB;QAAA,uBACA;UAAI,KAAK,EAAE;YAACkB,YAAY,EAAC,QAAQ;YAAGC,UAAU,EAAC,SAAS;YAAEC,KAAK,EAAC;UAAO,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAEpE;QAAA;QAAA;QAAA;MAAA,QACC;IAAA;MAAA;MAAA;MAAA;IAAA,QACM;EAAA;IAAA;IAAA;IAAA;EAAA,QAGV;AAEV;AAAC,GAtGuBzB,UAAU;EAAA,QAYhCH,qBAAqB;AAAA;AAAA,KAZCG,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module"}